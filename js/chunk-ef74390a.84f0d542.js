(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef74390a"],{"4bd4":function(e,t,r){"use strict";var a=r("5530"),n=(r("caad"),r("2532"),r("07ac"),r("4de4"),r("d3b7"),r("159b"),r("7db0"),r("58df")),i=r("7e2b"),o=r("3206");t["a"]=Object(n["a"])(i["a"],Object(o["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,r=function(e){return e.$watch("hasError",(function(r){t.$set(t.errorBag,e._uid,r)}),{immediate:!0})},a={_uid:e._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?a.shouldValidate=e.$watch("shouldValidate",(function(n){n&&(t.errorBag.hasOwnProperty(e._uid)||(a.valid=r(e)))})):a.valid=r(e),a},validate:function(){return 0===this.inputs.filter((function(e){return!e.validate(!0)})).length},reset:function(){this.inputs.forEach((function(e){return e.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(e){return e.resetValidation()})),this.resetErrorBag()},register:function(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var r=this.watchers.find((function(e){return e._uid===t._uid}));r&&(r.valid(),r.shouldValidate()),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object(a["a"])({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}})},c212:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{directives:[{name:"show",rawName:"v-show",value:!e.overlay,expression:"!overlay"}],staticClass:"font-weight-bold text-h6 pb-0"},[e._v("간편 회원가입")])],1),r("v-overlay",{attrs:{value:e.overlay}},[r("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),r("v-row",{directives:[{name:"show",rawName:"v-show",value:!e.overlay,expression:"!overlay"}],staticClass:"pa-3 mt-0"},[r("v-col",[r("v-form",{ref:"kakaoform",attrs:{"lazy-validation":""}},[r("v-text-field",{attrs:{label:"이름",rules:e.nameRule},model:{value:e.member.name,callback:function(t){e.$set(e.member,"name",t)},expression:"member.name"}}),r("v-text-field",{attrs:{label:"생년월일",type:"date",rules:e.birthRule},model:{value:e.member.birth,callback:function(t){e.$set(e.member,"birth",t)},expression:"member.birth"}}),r("v-text-field",{attrs:{label:"전화번호",rules:e.phoneRule},model:{value:e.member.phone,callback:function(t){e.$set(e.member,"phone",t)},expression:"member.phone"}}),r("v-text-field",{attrs:{label:"이메일",rules:e.emailRule},model:{value:e.member.email,callback:function(t){e.$set(e.member,"email",t)},expression:"member.email"}}),r("v-container",[r("v-row",[r("v-col",{attrs:{align:"left"}},[r("v-btn",{staticClass:"mr-4",attrs:{color:"primary",medium:""},on:{click:e.validJoin}},[e._v(" 가입하기 ")])],1),r("v-col",{attrs:{align:"right"}},[r("v-btn",{staticClass:"red white--text",on:{click:e.clear}},[e._v(" 초기화 ")])],1)],1)],1)],1)],1)],1)],1)},n=[],i=r("1da1"),o=(r("96cf"),r("ac1f"),r("00b4"),r("b0c0"),r("5319"),r("7f01")),s={name:"KakaoJoin",data:function(){return{member:{id:"",password:"",name:"",birth:"",phone:"",email:""},overlay:!0,token:"",phoneRule:[function(e){var t=/^(01)[0-9]{1}-[0-9]{3,4}-[0-9]{4}$/;return t.test(e)||"핸드폰 번호 형식이 아닙니다."}],emailRule:[function(e){return String(e).length>0||"필수 요소입니다."},function(e){return/.+@.+\..+/.test(e)||"이메일 형식이 아닙니다."}],birthRule:[function(e){return String(e).length>9||"필수 요소입니다."}],nameRule:[function(e){return String(e).length>0||"필수 요소입니다."}]}},methods:{clear:function(){this.member.name="",this.member.birth="",this.member.phone="",this.member.email=""},validJoin:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.kakaoform.validate()){t.next=11;break}return t.prev=1,t.next=4,o["a"].joinKaKao(e.member,e.access_token);case 4:r=t.sent,r.data.id&&e.$router.replace("/member/login"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log("error");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getKToken:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o["a"].getKakaoToken(e);case 3:return a=r.sent,console.log(a.data),t.access_token=a.data.access_token,t.member.id=a.data.id,t.member.password=a.data.id,r.next=10,o["a"].login(t.member);case 10:n=r.sent,"success"===n.data.result&&(t.$store.dispatch("saveAuth",{id:n.data.id,jwt:n.data.jwt,mno:n.data.mno,gname:n.data.gname,mileagepoint:n.data.mileage,kToken:t.access_token}),t.$router.replace("/home/main")),t.overlay=!1,r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](0),console.log(r.t0);case 18:case"end":return r.stop()}}),r,null,[[0,15]])})))()}},created:function(){this.getKToken(this.$route.query.code)}},l=s,u=r("2877"),c=r("6544"),d=r.n(c),m=r("8336"),h=r("62ad"),f=r("a523"),v=r("4bd4"),b=r("a797"),p=r("490a"),g=r("0fd9"),w=r("8654"),k=Object(u["a"])(l,a,n,!1,null,null,null);t["default"]=k.exports;d()(k,{VBtn:m["a"],VCol:h["a"],VContainer:f["a"],VForm:v["a"],VOverlay:b["a"],VProgressCircular:p["a"],VRow:g["a"],VTextField:w["a"]})}}]);
//# sourceMappingURL=chunk-ef74390a.84f0d542.js.map